# Nginx简介

场景引入：随着访问量的增加，单台应用服务器已经无法满足我们的需求了，在假设数据库服务器没有压力的情况下，我们应该把应用服务器从一台变成两台甚至多台，把应用的请求分散到不同的服务器中，从而提高负载能力。

问题引入：当引入多台应用服务器的时候，会出现以下几点问题

1. 用户的请求有谁转发到具体的应用服务器
2. 有什么转发算法
3. 应用服务器如何返回用户的请求
4. 如果用户每次访问到服务器不一样，怎么维护Session的一致性

这个时候，就用到了Nginx，它是一个高性能的HTTP和反向代理web服务器。主要有以下几点个功能：

- 反向代理
  	  简单来说就是隐藏真实的服务器地址。常用的场景就是多台服务器分布式部署，像一些大的网站，由于访问人数很多，就需要多台服务器来解决人数多的问题，这时这些服务器就由一个反向代理服务器来代理，客户端发来请求，先由反向代理服务器，然后按一定的规则分发到明确的服务器，而客户端不知道是哪台服务器。常常用nginx来作反向代理。

  延伸：既然有反向代理，就相对应的有正向代理。客户端想要访问一个服务器，但是它可能无法直接访问这台服务器，这时候这可找一台可以访问目标服务器的另外一台服务器，而这台服务器就被当做是代理人的角色 ，称之为代理服务器，于是客户端把请求发给代理服务器，由代理服务器获得目标服务器的数据并返回给客户端。客户端是清楚目标服务器的地址的，而目标服务器是不清楚来自客户端，它只知道来自哪个代理服务器，所以正向代理可以屏蔽或隐藏客户端的信息。这台代理服务器也就是我们说的跳板机。

- 动静分离

  ​      为了提高网站的响应速度，减轻程序服务器（Tomcat，Jboss等）的负载，对于静态资源比如图片，js，css等文件，我们可以在反向代理服务器中进行缓存，这样浏览器在请求一个静态资源时，代理服务器就可以直接处理，而不用将请求转发给后端服务器。用户请求的动态文件比如servlet，jsp则转发给Tomcat，Jboss服务器处理，这就是动静分离。这也是反向代理服务器的一个重要的作用。

- 负载均衡

  ​        单台服务器的性能是有上限的，当流量很大时，就需要使用多台服务器来共同提供服务，这就是所谓的集群。

  负载均衡服务器，就是用来把经过它的流量，按照某种方法，分配到集群中的各台服务器上。这样一来不仅可以承担

  更大的流量、降低服务的延迟，还可以避免单点故障造成服务不可用。一般的反向代理服务器，都具备负载均衡的功能。所以可以说反向代理的目的本身就有负载均衡，负载均衡功能可以由硬件来提供，比如以前的F5设备。也可以由软件来提供，LVS可以提供四层的负载均衡(利用IP和端口)，Haproxy和Nginx可以提供七层的负载均衡(利用应用层信息)。

  除此之外，nginx还支持好多插件模块、FastCGI、代理服务器等其他功能。

  

  Next->[Nginx环境搭建](./Nginx环境搭建.md)

